{% extends 'base.html' %}
{% load static i18n immersionlyceens_tags %}
{% get_current_language as LANGUAGE_CODE %}

{% block content %}
{% information_text_get 'MENTIONS_INSCRIPTION' as mentions %}
{% general_settings_get 'ACTIVATE_VISITORS' as visitors_activated %}
<div class="main-title inside text-center">
  <div class="bg-main-title bg-parallax" data-scroll-speed=".3"></div>
    <div class="container">
      <div class="row">
        <div class="col">
          {% if profile == "vis" %}
            <h1>{% trans 'Immersion Lycéens - New visitor account' %}</h1>
          {% else %}
            <h1>{% trans 'Immersion Lycéens - New high school student account' %}</h1>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
  <section class="py-5">
    <div class="container">
      <h3>{% trans 'Please fill this form to create your account' %} :</h3>
      <form method="post">
        {% csrf_token %}

        {% if visitors_activated and profile == "vis" %}
          <input type="hidden" name="registration_type" value="vis">
        {% else %}
          <input type="hidden" name="registration_type" value="hs">
        {% endif %}

        <div class="form-group row justify-content-center">
          <label for="id_lastname" class="col-sm-2 col-form-label">{% trans 'Last name' %} :</label>
          <div class="col-sm-9 col-md-6">
            {{ form.last_name }}
          </div>
          <div>
            {{ form.last_name.errors }}
          </div>
        </div>
        <div class="form-group row justify-content-center">
          <label for="id_firstname" class="col-sm-2 col-form-label">{% trans 'First name' %} :</label>
          <div class="col-sm-9 col-md-6">
            {{ form.first_name }}
          </div>
          <div>
            {{ form.first_name.errors }}
          </div>
        </div>
        <div class="form-group row justify-content-center">
          <label for="id_email" class="col-sm-2 col-form-label">{% trans 'Email' %} :</label>
          <div class="col-sm-9 col-md-6">
            {{ form.email }}
          </div>
          <div>
            {{ form.email.errors }}
          </div>
        </div>
        <div class="form-group row justify-content-center">
          <label for="id_email2" class="col-sm-2 col-form-label">{% trans 'Email (confirmation)' %} :</label>
          <div class="col-sm-9 col-md-6">
            {{ form.email2 }}
          </div>
          <div>
            {{ form.email2.errors }}
          </div>
        </div>
        {% if form.password1 %}
        <div class="form-group row justify-content-center">
          <label for="id_password1" class="col-sm-2 col-form-label">{% trans 'Password' %} :</label>
          <div class="col-sm-9 col-md-6">
            {{ form.password1 }}
          </div>
          <div>
            {{ form.password1.errors }}
          </div>
        </div>
        {% endif %}
        {% if form.password2 %}
        <div class="form-group row justify-content-center">
          <label for="id_password2" class="col-sm-2 col-form-label">{% trans 'Password (confirmation)' %} :</label>
          <div class="col-sm-9 col-md-6">
            {{ form.password2 }}
          </div>
          <div>
            {{ form.password2.errors }}
          </div>
        </div>
        {% endif %}
        <div class="form-group row justify-content-center">
          <div class="col-sm-10 col-md-8 alert alert-info">
            {{ mentions | safe }}
          </div>
        </div>
        <div class="form-group row justify-content-center">
          <div class="col-sm-9 col-md-6 offset-sm-3 offset-lg-2">
            <input type="submit" class="btn btn-primary" name="submit" value="{% trans 'Submit' %}">
            <a href="{% url 'immersion:login' %}" class="btn btn-outline-secondary">{% trans 'Back' %}</a>
          </div>
        </div>
      </form>
    </div>
  </section>
</div>
{% endblock %}
